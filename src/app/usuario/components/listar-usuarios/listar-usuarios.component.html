<div class="contenedor-filtros">
  <div class="barra-busqueda">
    <div class="input-busqueda">
      <span class="icono-busqueda">üîç</span>
      <input type="text" (input)="onBusquedaChange($event)" placeholder="Buscar por nombre" class="input-texto" />
    </div>

    <div class="filtros-select">
      <select (change)="onEstadoChange($event)" class="select-filtro">
        <option value="">Todos los estados</option>
        <option value="activar">Activar</option>
        <option value="desactivar">Desactivar</option>
      </select>
    </div>
  </div>
</div>

<div>
  <table>
    <thead>
      <tr>
        <th class="columna-id">ID</th>
        <th class="columna-usuario">Usuario</th>
        <th class="columna-constrase√±a">Contrase√±a</th>
        <th class="columna-nombre">Nombre</th>
        <th class="columna-apellido">Apellido</th>
        <th class="columna-estado">Estado</th>
      </tr>
    </thead>
    <tbody>
      @if (empleadosFiltrados.length === 0) {
      <tr>
        <td colspan="7" class="sin-resultados">
          No se encontraron usuarios que coincidan con los filtros
        </td>
      </tr>
      }
      @for (usu of empleadosFiltrados; track $index) {
      <tr>
        <td>{{ usu.id }}</td>
        <td>{{ usu.usuario }}</td>
        <td>{{ usu.contrasena }}</td>
        <td>{{ usu.nombre }}</td>
        <td>{{ usu.apellido }}</td>
        <td>
          @if (usu.tipo === 'base') {
          @if (usu.estado) {
          <button class="desactivar" (click)="desactivarUsuario(usu.id)">
            Desactivar
          </button>
          } @else {
          <button class="activar" (click)="activarUsusario(usu.id)">
            Activar
          </button>
          } }
        </td>
      </tr>
      }
    </tbody>
  </table>

  <div class="info-resultados">
    <span>Mostrando {{ empleadosFiltrados.length }} de {{ listaUsuarios.length }} usuarios</span>
  </div>
</div>
